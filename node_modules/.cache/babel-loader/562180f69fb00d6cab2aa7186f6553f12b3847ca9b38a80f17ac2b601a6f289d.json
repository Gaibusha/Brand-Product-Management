{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{addCategory,updateCategory,fetchCategoryById}from'../api/mockApi';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CategoryForm=_ref=>{let{onSave,initialData}=_ref;const[category,setCategory]=useState(initialData||{name:'',description:''});const{id}=useParams();const navigate=useNavigate();useEffect(()=>{if(id){fetchCategoryById(id).then(data=>setCategory(data));}},[id]);const handleChange=e=>{const{name,value}=e.target;setCategory(prevState=>({...prevState,[name]:value}));};const handleSubmit=e=>{e.preventDefault();if(id){updateCategory(id,category).then(()=>navigate('/categories'));}else{addCategory(category).then(()=>navigate('/categories'));}};return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen bg-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded shadow-md w-96\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl mb-6 text-center\",children:id?'Edit Category':'Add Category'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:category.name,onChange:handleChange,placeholder:\"Name\",className:\"border p-2 w-full mb-4 rounded\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:category.description,onChange:handleChange,placeholder:\"Description\",className:\"border p-2 w-full mb-4 rounded\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-green-500 text-white px-4 py-2 w-full rounded hover:bg-green-600 transition duration-200\",children:id?'Update Category':'Add Category'})]})]})});};export default CategoryForm;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","addCategory","updateCategory","fetchCategoryById","jsx","_jsx","jsxs","_jsxs","CategoryForm","_ref","onSave","initialData","category","setCategory","name","description","id","navigate","then","data","handleChange","e","value","target","prevState","handleSubmit","preventDefault","className","children","onSubmit","type","onChange","placeholder"],"sources":["C:/brand-product-management/src/components/CategoryForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { addCategory, updateCategory, fetchCategoryById } from '../api/mockApi';\r\n\r\nconst CategoryForm = ({ onSave, initialData }) => {\r\n  const [category, setCategory] = useState(initialData || { name: '', description: '' });\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      fetchCategoryById(id).then(data => setCategory(data));\r\n    }\r\n  }, [id]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setCategory(prevState => ({\r\n      ...prevState,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (id) {\r\n      updateCategory(id, category).then(() => navigate('/categories'));\r\n    } else {\r\n      addCategory(category).then(() => navigate('/categories'));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-screen bg-gray-100\">\r\n      <div className=\"bg-white p-6 rounded shadow-md w-96\">\r\n        <h2 className=\"text-2xl mb-6 text-center\">{id ? 'Edit Category' : 'Add Category'}</h2>\r\n        <form onSubmit={handleSubmit}>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={category.name}\r\n            onChange={handleChange}\r\n            placeholder=\"Name\"\r\n            className=\"border p-2 w-full mb-4 rounded\"\r\n          />\r\n          <textarea\r\n            name=\"description\"\r\n            value={category.description}\r\n            onChange={handleChange}\r\n            placeholder=\"Description\"\r\n            className=\"border p-2 w-full mb-4 rounded\"\r\n          />\r\n          <button\r\n            type=\"submit\"\r\n            className=\"bg-green-500 text-white px-4 py-2 w-full rounded hover:bg-green-600 transition duration-200\"\r\n          >\r\n            {id ? 'Update Category' : 'Add Category'}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CategoryForm;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,OAASC,WAAW,CAAEC,cAAc,CAAEC,iBAAiB,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhF,KAAM,CAAAC,YAAY,CAAGC,IAAA,EAA6B,IAA5B,CAAEC,MAAM,CAAEC,WAAY,CAAC,CAAAF,IAAA,CAC3C,KAAM,CAACG,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAACc,WAAW,EAAI,CAAEG,IAAI,CAAE,EAAE,CAAEC,WAAW,CAAE,EAAG,CAAC,CAAC,CACtF,KAAM,CAAEC,EAAG,CAAC,CAAGjB,SAAS,CAAC,CAAC,CAC1B,KAAM,CAAAkB,QAAQ,CAAGjB,WAAW,CAAC,CAAC,CAE9BF,SAAS,CAAC,IAAM,CACd,GAAIkB,EAAE,CAAE,CACNb,iBAAiB,CAACa,EAAE,CAAC,CAACE,IAAI,CAACC,IAAI,EAAIN,WAAW,CAACM,IAAI,CAAC,CAAC,CACvD,CACF,CAAC,CAAE,CAACH,EAAE,CAAC,CAAC,CAER,KAAM,CAAAI,YAAY,CAAIC,CAAC,EAAK,CAC1B,KAAM,CAAEP,IAAI,CAAEQ,KAAM,CAAC,CAAGD,CAAC,CAACE,MAAM,CAChCV,WAAW,CAACW,SAAS,GAAK,CACxB,GAAGA,SAAS,CACZ,CAACV,IAAI,EAAGQ,KACV,CAAC,CAAC,CAAC,CACL,CAAC,CAED,KAAM,CAAAG,YAAY,CAAIJ,CAAC,EAAK,CAC1BA,CAAC,CAACK,cAAc,CAAC,CAAC,CAClB,GAAIV,EAAE,CAAE,CACNd,cAAc,CAACc,EAAE,CAAEJ,QAAQ,CAAC,CAACM,IAAI,CAAC,IAAMD,QAAQ,CAAC,aAAa,CAAC,CAAC,CAClE,CAAC,IAAM,CACLhB,WAAW,CAACW,QAAQ,CAAC,CAACM,IAAI,CAAC,IAAMD,QAAQ,CAAC,aAAa,CAAC,CAAC,CAC3D,CACF,CAAC,CAED,mBACEZ,IAAA,QAAKsB,SAAS,CAAC,2DAA2D,CAAAC,QAAA,cACxErB,KAAA,QAAKoB,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eAClDvB,IAAA,OAAIsB,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAEZ,EAAE,CAAG,eAAe,CAAG,cAAc,CAAK,CAAC,cACtFT,KAAA,SAAMsB,QAAQ,CAAEJ,YAAa,CAAAG,QAAA,eAC3BvB,IAAA,UACEyB,IAAI,CAAC,MAAM,CACXhB,IAAI,CAAC,MAAM,CACXQ,KAAK,CAAEV,QAAQ,CAACE,IAAK,CACrBiB,QAAQ,CAAEX,YAAa,CACvBY,WAAW,CAAC,MAAM,CAClBL,SAAS,CAAC,gCAAgC,CAC3C,CAAC,cACFtB,IAAA,aACES,IAAI,CAAC,aAAa,CAClBQ,KAAK,CAAEV,QAAQ,CAACG,WAAY,CAC5BgB,QAAQ,CAAEX,YAAa,CACvBY,WAAW,CAAC,aAAa,CACzBL,SAAS,CAAC,gCAAgC,CAC3C,CAAC,cACFtB,IAAA,WACEyB,IAAI,CAAC,QAAQ,CACbH,SAAS,CAAC,6FAA6F,CAAAC,QAAA,CAEtGZ,EAAE,CAAG,iBAAiB,CAAG,cAAc,CAClC,CAAC,EACL,CAAC,EACJ,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAR,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}